"use strict";var options={rootMargin:"0px",threshold:.6},srcMap=new Map,images=document.querySelectorAll(".featured"),handleIntersection=function(e,r){e.forEach(function(e){0<e.intersectionRatio&&loadImage(e.target)})},loadImage=function(e){var r=srcMap[e.alt];fetchImage(r).then(function(){e.src=r})},fetchImage=function(o){return new Promise(function(e,r){var n=new Image;n.src=o,n.onload=e,n.onerror=r})};if("IntersectionObserver"in window){var observer=new IntersectionObserver(handleIntersection,options);images.forEach(function(e){srcMap[e.alt]=e.src,e.src="",observer.observe(e)})}else Array.from(images).forEach(function(e){return loadImage(e)});